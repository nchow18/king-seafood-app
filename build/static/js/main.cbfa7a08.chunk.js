(this.webpackJsonpnuxe=this.webpackJsonpnuxe||[]).push([[0],{17:function(e,t,c){},41:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(33),i=c.n(r),s=(c(41),c(2)),o=c(10),l=c(3),d=c(0);var u=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"flex-c-column content",children:"ERROR PAGE NOT FOUND"})})};var j=function(e){var t=e.prod,c=Object(a.useState)(0),n=Object(s.a)(c,2),r=n[0],i=n[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],j=l[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:"product-card-img",onClick:function(){return j(!0)},alt:t.name,src:""+"/products/".concat(t.picture[r].trim())}),t.picture.length>1&&Object(d.jsx)("div",{className:"product-card-img-extra",children:t.picture.map((function(e,c){return Object(d.jsx)("img",{className:"product-card-img-small",onClick:function(){return i(c)},alt:c,src:""+"/products/".concat(t.picture[c].trim())},c)}))}),!0===u&&Object(d.jsx)("div",{onClick:function(){return j(!1)},className:"picture-modal",children:Object(d.jsx)("img",{alt:t.name,src:""+"/products/".concat(t.picture[r].trim())})})]})},p=c(12);var b=function(e){var t=e.prod,c=e.fav,n=e.setFav,r=e.cart,i=e.setCart,o=Object(a.useState)(1),l=Object(s.a)(o,2),u=l[0],j=l[1];return Object(d.jsxs)("div",{className:"add-cart-container",children:[Object(d.jsxs)("div",{className:"add-cart-counter-container",children:[Object(d.jsx)("div",{onClick:function(){return j(u+1)},children:"+"}),Object(d.jsx)("div",{className:"add-cart-counter",children:u}),Object(d.jsx)("div",{onClick:function(){1!==u&&j(u-1)},children:"-"})]}),Object(d.jsx)("div",{onClick:function(){return function(){var e="";if(0===c.length){var a=r;t.quantity=u;var n=[].concat(Object(p.a)(a),[t]);i(n)}else{for(var s=0;s<r.length;s++)r[s].name===t.name&&(alert("Product is already in your Cart"),e="duplicate");if("duplicate"!==e){var o=r;t.quantity=u;var l=[].concat(Object(p.a)(o),[t]);i(l)}}}()},className:"add-cart-button",children:"ADD TO CART"}),Object(d.jsx)("div",{onClick:function(){return function(){var e="";if(0===c.length){var a=c,r=[].concat(Object(p.a)(a),[t]);n(r)}else{for(var i=0;i<c.length;i++)c[i].name===t.name&&(alert("Product is already in your Favorites"),e="duplicate");if("duplicate"!==e){var s=c,o=[].concat(Object(p.a)(s),[t]);n(o)}}}()},className:"add-cart-button",children:"ADD TO FAVORITES"})]})};var O=function(e){var t=e.prod,c=e.fav,a=e.setFav,n=e.cart,r=e.setCart;return Object(d.jsxs)("div",{className:"product-card-container",children:[Object(d.jsx)("div",{className:"product-card-picture",children:Object(d.jsx)(j,{prod:t})}),Object(d.jsxs)("div",{className:"product-card-content",children:[Object(d.jsxs)("div",{className:"product-card-details",children:[Object(d.jsx)("li",{children:t.name}),Object(d.jsxs)("li",{children:["Price: RM ",t.price]}),""!==t.bulk_qty&&Object(d.jsxs)("li",{children:["Bundle Deal! Buy ",t.bulk_qty," or more for RM ",t.bulk_price," each"]}),""!==t.d1&&Object(d.jsxs)("li",{children:["\xbb ",t.d1]}),""!==t.d2&&Object(d.jsxs)("li",{children:["\xbb ",t.d2]}),""!==t.d3&&Object(d.jsxs)("li",{children:["\xbb ",t.d3]}),""!==t.d4&&Object(d.jsxs)("li",{children:["\xbb ",t.d4]})]}),Object(d.jsx)(b,{prod:t,fav:c,setFav:a,cart:n,setCart:r})]})]})};c(17);var h=function(e){var t=e.categories,c=e.products,n=e.fav,r=e.setFav,i=e.cart,o=e.setCart,l=Object(a.useState)(t),u=Object(s.a)(l,2),j=u[0],p=u[1],b=Object(a.useState)(c),h=Object(s.a)(b,2),m=h[0],x=h[1];return Object(d.jsxs)("div",{className:"products-container",children:[Object(d.jsx)("div",{className:"category-container",children:t.map((function(e){return Object(d.jsx)("li",{className:"category-icon ".concat(j===e&&"isCategoryActive"),onClick:function(){p(e),function(e){for(var t=[],a=0;a<c.length;a++)if(!1!==c[a].status)for(var n=0;n<c[a].category.length;n++)c[a].category[n].trim()===e.toLowerCase()&&!0===c[a].status&&t.push(c[a]);x(t)}(e)},children:e},e)}))}),Object(d.jsx)("div",{className:"products-list",children:m.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(O,{prod:e,fav:n,setFav:r,cart:i,setCart:o})},e.product_id)}))})]})};var m=function(){return Object(d.jsx)("div",{className:"home-page",children:Object(d.jsx)(o.b,{style:{textDecoration:"none"},to:"/products",children:Object(d.jsx)("img",{alt:"home-banner",className:"home-page-banner",src:"/images/homepage-without-bottom.png"})})})};var x=function(e){var t=e.cart,c=e.setCart,n=e.siteSale,r=e.item,i=e.index,o=e.removeItem,l=e.setTotal,u=(e.totalCart,e.getCartTotal,Object(a.useState)(r.quantity)),j=Object(s.a)(u,2),p=j[0],b=j[1],O=Object(a.useState)(),h=Object(s.a)(O,2);function m(){r.bulk_qty>=1&&r.bulk_qty<=r.quantity?r.new_price=r.bulk_price*r.quantity:""!==r.sale_price&&r.sale_price<r.price*(1-n/100)?r.new_price=r.sale_price*r.quantity:r.new_price=r.price*(1-n/100).toFixed(2)*r.quantity,t[i].new_price=r.new_price,t[i].quantity=p,c(t),localStorage.setItem("user_cart",JSON.stringify(t));for(var e="",a=0;a<t.length;a++)e=+e+ +t[a].new_price;l(e.toFixed(2))}return h[0],h[1],Object(a.useEffect)((function(){m()}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"cart-item-container",children:[Object(d.jsx)("img",{alt:r.name,src:""+"/products/".concat(r.picture[0])}),Object(d.jsxs)("div",{children:[Object(d.jsx)("li",{children:r.name}),Object(d.jsx)("li",{className:"cart-item-price",children:(r.bulk_qty>=1&&r.bulk_qty<=r.quantity?r.new_price=r.bulk_price*r.quantity:""!==r.sale_price&&r.sale_price<r.price*(1-n/100)?r.new_price=r.sale_price*r.quantity:r.new_price=r.price*(1-n/100).toFixed(2)*r.quantity,t[i].new_price=r.new_price,t[i].quantity=p,c(t),localStorage.setItem("user_cart",JSON.stringify(t)),"RM ".concat(r.new_price))}),Object(d.jsxs)("li",{className:"cart-qty-container",children:[Object(d.jsx)("div",{onClick:function(){b(p+1),r.quantity=p+1,t[i].quantity=p+1,c(t),m()},children:"+"}),Object(d.jsx)("div",{className:"add-cart-counter",children:p}),Object(d.jsx)("div",{onClick:function(){1!==p&&(b(p-1),r.quantity=p-1,t[i].quantity=p-1,c(t),m())},children:"-"})]})]}),Object(d.jsx)("div",{onClick:function(){return o(i)},className:"cart-button-delete",children:"X"})]},r.id)})};var f=function(e){var t=e.cart,c=e.setCart,n=e.sale,r=Object(a.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)([]),j=Object(s.a)(u,2),p=j[0],b=j[1],O=[];function h(e){t.splice(e,1),localStorage.setItem("user_cart",JSON.stringify(t)),c(t.splice(0,e))}function m(){for(var e="",c=0;c<t.length;c++)e=+e+ +t[c].new_price,O.push(t[c].new_price);return e}return Object(a.useEffect)((function(){}),[t]),Object(d.jsxs)("div",{className:"cart-page",children:[t.map((function(e,a){return Object(d.jsx)("div",{children:Object(d.jsx)(x,{cart:t,setCart:c,siteSale:n,item:e,index:a,removeItem:h,setTotal:b,totalCart:p,getCartTotal:m,cartPriceArr:O})},e.name)})),Object(d.jsxs)("div",{className:"cart-total",children:["Your Total: RM ",p]}),Object(d.jsx)("div",{onClick:function(){l(!0)},className:"cart-checkout-button",children:"CHECKOUT ( GENERATE INVOICE )"}),!0===o&&Object(d.jsx)("div",{onClick:function(){return l(!1)},className:"invoice-modal",children:Object(d.jsxs)("div",{className:"invoice-content",children:[Object(d.jsx)("div",{children:"INVOICE"}),Object(d.jsx)("div",{className:"invoice-item-container",children:t.map((function(e){return Object(d.jsxs)("div",{className:"invoice-item",children:[Object(d.jsx)("li",{children:e.name}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("li",{children:["Qty: ",e.quantity]}),Object(d.jsxs)("li",{children:["RM ",e.new_price.toFixed(2)]})]})]})}))}),Object(d.jsxs)("div",{className:"invoice-total-price",children:[Object(d.jsx)("li",{children:"Your Total:"}),Object(d.jsxs)("li",{children:["RM ",p]})]})]})})]})},v=c(36),g=c(13),_=c(11),C=c(24),N=c.n(C),y=c(5),S=c.n(y);var k=function(e){var t=e.prod,c=e.prodTitle,n=(e.index,e.products),r=e.setProducts,i=Object(a.useState)(null),o=Object(s.a)(i,2),l=(o[0],o[1]);Object(a.useEffect)((function(){}),[]);var u=Object(a.useState)({product_id:t.product_id,category:t.category,name:t.name,d1:t.d1,d2:t.d2,d3:t.d3,d4:t.d4,price:t.price,bulk_qty:t.bulk_qty,bulk_price:t.bulk_price,featured:t.featured,status:t.status,picture:t.picture}),j=Object(s.a)(u,2),p=j[0],b=j[1],O=function(e){var t=e.target,c=t.name,a=t.value;b(Object(_.a)(Object(_.a)({},p),{},Object(g.a)({},c,a)))};function h(e){return Array.isArray(e)?e.join(", ").replaceAll(" ",""):e}var m=function(){var e=Object(v.a)(N.a.mark((function e(c){var a,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=window.location.href,n=a.replace("0/dashboard","1/api/products/".concat(t.product_id)),r={product_id:p.product_id,category:h(p.category),name:p.name,price:p.price,d1:p.d1,d2:p.d2,d3:p.d3,d4:p.d4,status:p.status,sale_price:p.sale_price,bulk_qty:p.bulk_qty,bulk_price:p.bulk_price,featured:p.featured,picture:h(p.picture),new_product:!0},console.log(r),S.a.put(n,r).then((function(e){l(e.data)})),alert("".concat(p.name," has been updated!"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"dashboard-product-item",children:[Object(d.jsxs)("div",{className:"dashboard-product-titles",children:[c.map((function(e){return Object(d.jsx)("li",{children:e},e)})),Object(d.jsx)("li",{onClick:function(){!function(){if(window.confirm("Confirm removing product?")){for(var e=window.location.href.replace("0/dashboard","1/api/products/".concat(t.product_id)),c=0;c<n.length;c++)n[c].product_id===t.product_id&&r(n.splice(0,c));S.a.delete(e,t.product_id).then((function(e){l(e.data)}))}}()},className:"dashboard-product-delete",children:"DELETE"})]}),Object(d.jsxs)("div",{className:"dashboard-product-input",children:[Object(d.jsx)("input",{id:"product_id",placeholder:t.product_id,onChange:O,value:p.product_id,name:"product_id"}),Object(d.jsx)("input",{id:"category",placeholder:t.category,onChange:O,value:p.category,name:"category"}),Object(d.jsx)("input",{id:"name",placeholder:t.name,onChange:O,value:p.name,name:"name"}),Object(d.jsx)("input",{id:"d1",placeholder:t.d1,onChange:O,value:p.d1,name:"d1"}),Object(d.jsx)("input",{id:"d2",placeholder:t.d2,onChange:O,value:p.d2,name:"d2"}),Object(d.jsx)("input",{id:"d3",placeholder:t.d3,onChange:O,value:p.d3,name:"d3"}),Object(d.jsx)("input",{id:"d4",placeholder:t.d4,onChange:O,value:p.d4,name:"d4"}),Object(d.jsx)("input",{id:"price",placeholder:t.price,onChange:O,value:p.price,name:"price"}),Object(d.jsx)("input",{id:"bulk_qty",placeholder:t.bulk_qty,onChange:O,value:p.bulk_qty,name:"bulk_qty"}),Object(d.jsx)("input",{id:"bulk_price",placeholder:t.bulk_price,onChange:O,value:p.bulk_price,name:"bulk_price"}),Object(d.jsx)("input",{id:"sale_price",placeholder:t.sale_price,onChange:O,value:p.sale_price,name:"sale_price"}),Object(d.jsx)("input",{id:"featured",placeholder:JSON.stringify(t.featured),onChange:O,value:p.featured,name:"featured"}),Object(d.jsx)("input",{id:"status",placeholder:JSON.stringify(t.status),onChange:O,value:p.status,name:"status"}),Object(d.jsx)("input",{id:"picture",placeholder:t.picture,onChange:O,value:p.picture,name:"picture"}),Object(d.jsx)("button",{onClick:function(){return m()},children:"UPDATE"})]})]})};var P=function(e){var t=e.products,c=e.setProducts,n=e.prodTitle,r=Object(a.useState)(null),i=Object(s.a)(r,2),o=(i[0],i[1]),l=Object(a.useState)({product_id:"",category:"",name:"",d1:"",d2:"",d3:"",d4:"",price:"",bulk_qty:"",bulk_price:"",featured:"",status:"",picture:""}),u=Object(s.a)(l,2),j=u[0],b=u[1],O=function(e){var t=e.target,c=t.name,a=t.value;b(Object(_.a)(Object(_.a)({},j),{},Object(g.a)({},c,a)))};return Object(d.jsx)("div",{className:"add-product-container",children:Object(d.jsxs)("div",{className:"dashboard-product-item",children:[Object(d.jsx)("div",{className:"dashboard-product-titles",children:n.map((function(e){return Object(d.jsx)("li",{children:e},e)}))}),Object(d.jsxs)("div",{className:"dashboard-product-input",children:[Object(d.jsx)("input",{id:"product_id",placeholder:"Product ID",onChange:O,value:j.product_id,name:"product_id"}),Object(d.jsx)("input",{id:"category",placeholder:"Category",onChange:O,value:j.category,name:"category"}),Object(d.jsx)("input",{id:"name",placeholder:"Product Name",onChange:O,value:j.name,name:"name"}),Object(d.jsx)("input",{id:"d1",placeholder:"Description 1",onChange:O,value:j.d1,name:"d1"}),Object(d.jsx)("input",{id:"d2",placeholder:"Description 2",onChange:O,value:j.d2,name:"d2"}),Object(d.jsx)("input",{id:"d3",placeholder:"Description 3",onChange:O,value:j.d3,name:"d3"}),Object(d.jsx)("input",{id:"d4",placeholder:"Description 4",onChange:O,value:j.d4,name:"d4"}),Object(d.jsx)("input",{id:"price",placeholder:"Price",onChange:O,value:j.price,name:"price"}),Object(d.jsx)("input",{id:"bulk_qty",placeholder:"Bulk Quantity",onChange:O,value:j.bulk_qty,name:"bulk_qty"}),Object(d.jsx)("input",{id:"bulk_price",placeholder:"Bulk Price",onChange:O,value:j.bulk_price,name:"bulk_price"}),Object(d.jsx)("input",{id:"sale_price",placeholder:"Sale Price",onChange:O,value:j.sale_price,name:"sale_price"}),Object(d.jsx)("input",{id:"featured",placeholder:"Featured (true / false)",onChange:O,value:j.featured,name:"featured"}),Object(d.jsx)("input",{id:"status",placeholder:"Status (true / false)",onChange:O,value:j.status,name:"status"}),Object(d.jsx)("input",{id:"picture",placeholder:"Picture (full picture name with extension)",onChange:O,value:j.picture,name:"picture"}),Object(d.jsx)("button",{onClick:function(){return function(){var e=window.location.href.replace("0/dashboard","1/api/products/"),a={product_id:j.product_id,category:j.category,name:j.name,price:j.price,d1:j.d1,d2:j.d2,d3:j.d3,d4:j.d4,status:j.status,sale_price:j.sale_price,bulk_qty:j.bulk_qty,bulk_price:j.bulk_price,featured:j.featured,picture:j.picture,new_product:!0};console.log(a),c([].concat(Object(p.a)(t),[a])),S.a.post(e,a).then((function(e){o(e.data)}))}()},children:"ADD PRODUCT"})]})]})})};var E=function(e){var t=e.promo,c=Object(a.useState)(null),n=Object(s.a)(c,2),r=(n[0],n[1]),i=Object(a.useState)(null),o=Object(s.a)(i,2),l=o[0],u=o[1],j=Object(a.useState)({promo_banner:t[0].promo_banner,promo_discount:t[0].promo_discount,promo_picture:t[0].promo_picture}),p=Object(s.a)(j,2),b=p[0],O=p[1],h=function(e){var t=e.target,c=t.name,a=t.value;O(Object(_.a)(Object(_.a)({},b),{},Object(g.a)({},c,a)))};return Object(d.jsxs)("div",{className:"promo-page",children:[Object(d.jsxs)("div",{className:"dashboard-title",children:[Object(d.jsx)("li",{children:"IMAGE UPLOADER"}),Object(d.jsx)("input",{id:"image",type:"file",onChange:function(e){console.log(e.target.files[0]);var t=new FormData;t.append("my-image-file",e.target.files[0],e.target.files[0].name),u(t)}}),Object(d.jsx)("button",{onClick:function(){return window.location.href.replace("0/dashboard","1/image-upload"),S.a.post("http://localhost:3001/api/image-upload",l).then((function(e){console.log("Axios response: ",e)})),void alert("Image uploaded successfully")},children:"UPLOAD IMAGE"})]}),Object(d.jsxs)("div",{className:"promo-container",children:[Object(d.jsx)("li",{children:"Promotion Banner Notification"}),Object(d.jsx)("input",{placeholder:"Promo Banner",id:"promo_banner",onChange:h,value:b.promo_banner,name:"promo_banner"}),Object(d.jsx)("li",{children:"Promotion Discount"}),Object(d.jsx)("input",{placeholder:"Promo Discount",id:"promo_discount",onChange:h,value:b.promo_discount,name:"promo_discount"}),Object(d.jsx)("li",{children:"Promotion Picture (full picture/file name)"}),Object(d.jsx)("input",{placeholder:"Promo Picture",id:"promo_picture",onChange:h,value:b.promo_picture,name:"promo_picture"}),Object(d.jsx)("button",{onClick:function(){window.location.href.replace("0/dashboard","1/api/details/1"),S.a.put("http://localhost:3001/api/details/1",b).then((function(e){r(e.data)})),alert("Promotions updated")},children:"UPDATE PROMO"})]})]})};var w=function(e){var t=e.products,c=e.setProducts,n=e.promo,r=Object(a.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)(["Products","Promotion"]),j=Object(s.a)(u,2),p=j[0],b=(j[1],Object(a.useState)("Products")),O=Object(s.a)(b,2),h=O[0],m=O[1],x=localStorage.getItem("ks-admin-dashboard"),f=Object(a.useState)(null),v=Object(s.a)(f,2),g=v[0],_=v[1];Object(a.useEffect)((function(){null!==x&&"admin-logged-in"===x&&l(!0)}),[]);var C=["PROD ID","CATEGORY","NAME","DESC 1","DESC 2","DESC 3","DESC 4","PRICE","BULK QUANTITY","BULK PRICE","SALE PRICE","FEATURED (true or false)","STATUS (true or false)","PICTURE (name.jpg)"];return Object(d.jsx)("div",{className:"dashboard-page",children:o?Object(d.jsxs)("div",{className:"dashboard-logged-page",children:[Object(d.jsx)("div",{className:"dashboard-header",children:p.map((function(e){return Object(d.jsx)("div",{onClick:function(){m(e)},className:"dash-link",children:e},e)}))}),"Promotion"===h&&Object(d.jsx)(E,{promo:n}),"Products"===h&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"dashboard-title",children:"ADD NEW PRODUCT"}),Object(d.jsx)(P,{products:t,setProducts:c,prodTitle:C}),Object(d.jsxs)("div",{className:"dashboard-title",children:[Object(d.jsx)("li",{children:"IMAGE UPLOADER"}),Object(d.jsx)("input",{id:"image",type:"file",onChange:function(e){console.log("handleFileInput working!"),console.log(e.target.files[0]);var t=new FormData;t.append("my-image-file",e.target.files[0],e.target.files[0].name),_(t)}}),Object(d.jsx)("button",{onClick:function(){return window.location.href.replace("0/dashboard","1/api/image-upload"),S.a.post("http://localhost:3001/api/image-upload",g).then((function(e){console.log("Axios response: ",e)})),void alert("Image uploaded successfully")},children:"UPLOAD IMAGE"})]}),Object(d.jsx)("div",{className:"dashboard-title",children:"UPDATE, DELETE PRODUCTS"}),t.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})).map((function(e,a){return Object(d.jsx)("div",{children:Object(d.jsx)(k,{prod:e,prodTitle:C,index:a,products:t,setProducts:c})},e.product_id)}))]})]}):Object(d.jsx)("div",{className:"dashboard-notlogged-page",children:Object(d.jsxs)("div",{className:"dashboard-loggin-container",children:[Object(d.jsx)("div",{children:"Dashboard Log in"}),Object(d.jsx)("input",{id:"adminPW",placeholder:"Enter password"}),Object(d.jsx)("button",{onClick:function(){"admin123admin"===document.getElementById("adminPW").value?(l(!0),localStorage.setItem("ks-admin-dashboard","admin-logged-in")):alert("Incorrect Password")},children:"SUBMIT"})]})})})};var D=function(e){var t=e.fav,c=e.setFav,n=e.cart,r=e.setCart,i=Object(a.useState)(!1),o=Object(s.a)(i,2),l=o[0],u=o[1],j=Object(a.useState)(),b=Object(s.a)(j,2),O=b[0],h=b[1];return Object(d.jsxs)("div",{className:"favorites-page",children:[t.map((function(e,a){return Object(d.jsxs)("div",{className:"favorites-list",children:[Object(d.jsx)("img",{onClick:function(){h(e),u(!0)},alt:e.name,src:""+"/products/".concat(e.picture[0])}),Object(d.jsxs)("div",{className:"favorites-details",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("li",{children:e.name}),Object(d.jsxs)("li",{children:["Price: RM ",e.price]}),""!==e.d1&&Object(d.jsxs)("li",{children:["\xbb ",e.d1]}),""!==e.d2&&Object(d.jsxs)("li",{children:["\xbb ",e.d2]}),""!==e.d3&&Object(d.jsxs)("li",{children:["\xbb ",e.d3]}),""!==e.d4&&Object(d.jsxs)("li",{children:["\xbb ",e.d4]})]}),Object(d.jsxs)("div",{className:"favorites-button-container",children:[Object(d.jsx)("div",{onClick:function(){return function(e){var t=[];e.quantity=1,t=n.length>0?[].concat(Object(p.a)(n),[e]):[e],r(t)}(e)},className:"favorites-button",children:"ADD TO CART"}),Object(d.jsx)("div",{onClick:function(){return function(e){1===t.length?c([]):c(t.splice(0,e))}(a)},className:"favorites-button",children:"REMOVE FAVORITE"})]})]})]},e.product_id)})),!0===l&&Object(d.jsx)("div",{onClick:function(){return u(!1)},className:"picture-modal",children:Object(d.jsx)("img",{alt:O.name,src:""+"/products/".concat(O.picture[0])})})]})};var A=function(e){var t=e.fav,c=e.cart,n=e.promo,r=Object(a.useState)("HOME"),i=Object(s.a)(r,2),l=i[0],u=i[1],j=Object(a.useState)(!1),p=Object(s.a)(j,2),b=p[0],O=p[1],h=Object(a.useState)(),m=Object(s.a)(h,2);return m[0],m[1],Object(a.useEffect)((function(){}),[]),console.log(n),Object(d.jsxs)("div",{className:"header-container",children:[Object(d.jsx)("div",{children:"KINGS SEAFOOD 18"}),Object(d.jsxs)("div",{className:"header-icons",children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{style:{textDecoration:"none"},onClick:function(){return u("HOME")},className:"header-button ".concat("HOME"===l&&"active"),to:"/",children:"HOME"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{style:{textDecoration:"none"},className:"header-button",to:"/products",children:"PRODUCTS"})}),Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{style:{textDecoration:"none"},className:"header-button",to:"/cart",children:["CART ( ",c.length," )"]})}),Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{style:{textDecoration:"none"},className:"header-button",to:"/favorites",children:["FAVORITES ( ",t.length," )"]})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{style:{textDecoration:"none"},className:"header-button header-lock",to:"/dashboard",children:"\ud83d\udd12"})})]}),!0===b&&Object(d.jsx)("div",{onClick:function(){return O(!1)},className:"promo-modal",children:Object(d.jsx)("div",{className:"promo-img-container",children:Object(d.jsx)("img",{alt:"banner",className:"promo-img",src:""+"/products/".concat(n[0].promo_picture)})})}),Object(d.jsx)("div",{onClick:function(){return O(!0)},className:"promo-icon",children:"\ud83c\udf81"})]})};var T=function(){return Object(d.jsxs)("div",{className:"footer-container",children:[Object(d.jsxs)("div",{className:"footer-left",children:[Object(d.jsx)("div",{className:"footer-title",children:"Address"}),Object(d.jsx)("div",{className:"footer-details",children:"205, Jalan Perak, 11600 Jelutong, Penang, Malaysia"}),Object(d.jsx)("div",{className:"footer-title",children:"Operating Hours"}),Object(d.jsx)("div",{className:"footer-details",children:"10:00AM - 5:30PM (Closed on Sundays & Public Holidays)"}),Object(d.jsx)("div",{className:"footer-title",children:"Contact Us"}),Object(d.jsx)("div",{className:"footer-details",children:"Joey 011-11264018"}),Object(d.jsx)("div",{className:"footer-details",children:"Kelvin 016-4849744"}),Object(d.jsx)("div",{className:"footer-title",children:"Follow Us"}),Object(d.jsx)("div",{className:"footer-details"})]}),Object(d.jsx)("div",{className:"footer-right",children:Object(d.jsx)("iframe",{title:"map",className:"king-map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3972.041964443941!2d100.31403875172646!3d5.410579936576945!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x304ac3b801b3cb3f%3A0x461457f2a8d2bd!2s205%2C%20Jln%20Perak%2C%20Jelutong%2C%2011600%20George%20Town%2C%20Pulau%20Pinang%2C%20Malaysia!5e0!3m2!1sen!2sca!4v1622922167047!5m2!1sen!2sca",width:"auto",height:"auto","aria-hidden":"false"})})]})};var q=function(e){var t=e.promoBanner;return Object(d.jsx)("div",{className:"top-promo",children:t})};c(70);var I=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),i=Object(s.a)(r,2),j=i[0],p=i[1],b=Object(a.useState)([]),O=Object(s.a)(b,2),x=O[0],v=O[1],g=Object(a.useState)([]),_=Object(s.a)(g,2),C=_[0],N=_[1],y=Object(a.useState)(),k=Object(s.a)(y,2),P=k[0],E=k[1],I=Object(a.useState)(),F=Object(s.a)(I,2),R=F[0],M=F[1],U=localStorage.getItem("user_cart"),J=localStorage.getItem("user_fav");function B(e){for(var t=e,c=0;c<e.length;c++)t[c].picture=JSON.stringify(t[c].picture).trim().replaceAll('"',"").split(","),t[c].category=JSON.stringify(t[c].category).trim().replaceAll('"',"").replaceAll("/","").split(",");return t}Object(a.useEffect)((function(){var e="https://kingsseafood18.com/";window.location.href.search("localhost")>=1?(S.a.get("http://localhost:3001/api/products").then((function(e){return n(B(e.data))})),S.a.get("http://localhost:3001/api/details").then((function(e){N(e.data),E(e.data[0].promo_discount),M(e.data[0].promo_banner)}))):(S.a.get("".concat(e," + api/products")).then((function(e){return n(B(e.data))})),S.a.get("".concat(e," + api/details")).then((function(e){N(e.data),E(e.data[0].promo_discount),M(e.data[0].promo_banner)}))),null===U?(console.log("cart does not exist, creating new local cart"),localStorage.setItem("user_cart",JSON.stringify(j))):p(JSON.parse(U)),null===J?(console.log("favorites list does not exist, creating new local favorites"),localStorage.setItem("user_fav",JSON.stringify(x))):v(JSON.parse(J))}),[]);var L=["All","Fish","Scallops","Shellfish","Squid","Meat","Special","Vegetables","Fruits","Hotpot","Snacks","Sauces","Beverages","Noodles/Soup","Sale","Newest Products"];return 0!==j.length&&localStorage.setItem("user_cart",JSON.stringify(j)),0!==x.length&&localStorage.setItem("user_fav",JSON.stringify(x)),console.log(j),console.log(x),console.log(C),Object(d.jsxs)(o.a,{children:[Object(d.jsx)(q,{promoBanner:R}),Object(d.jsx)(A,{cart:j,fav:x,promo:C}),Object(d.jsx)("div",{className:"page-content",children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(d.jsx)(m,{promo:C})}}),Object(d.jsx)(l.a,{exact:!0,path:"/products",render:function(){return Object(d.jsx)(h,{categories:L,products:c,fav:x,setFav:v,cart:j,setCart:p})}}),Object(d.jsx)(l.a,{exact:!0,path:"/cart",render:function(){return Object(d.jsx)(f,{cart:j,setCart:p,sale:P})}}),Object(d.jsx)(l.a,{exact:!0,path:"/favorites",render:function(){return Object(d.jsx)(D,{fav:x,setFav:v,cart:j,setCart:p})}}),Object(d.jsx)(l.a,{exact:!0,path:"/dashboard",render:function(){return Object(d.jsx)(w,{products:c,setProducts:n,promo:C})}}),Object(d.jsx)(l.a,{component:u})]})}),Object(d.jsx)(T,{})]})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,72)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))};c.p,c.p,c.p,c.p,c.p;i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(I,{})}),document.getElementById("root")),F()}},[[71,1,2]]]);
//# sourceMappingURL=main.cbfa7a08.chunk.js.map